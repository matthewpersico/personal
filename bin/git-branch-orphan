# -*- sh -*-

# git-branch-orphan

## @@ 0001||group||git-branch-orphan||Create an empty branch, for tools you want to keep, but not publish

remote=origin
branch=$1; shift
git checkout --orphan $branch || exit $?
files=$(git-what-is-new)
if [ -n "$files" ]
then
    git rm -f $files
fi
if [ "$1" ]
then
    comment="-m '$@'"
fi

git commit --allow-empty $comment
git push --set-upstream $remote $branch
git-branch-info created "$(date +%Y%m%d.%H%M%S%z)"
