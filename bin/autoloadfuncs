# -*- sh -*-

# autoloadfuncs

AUTOLOADFUNCS_FILE=${BASH_SOURCE[0]}

auditfuncs_init $AUTOLOADFUNCS_FILE
safe_func_export autoloadfuncs_audit

## We use this file to find controlfuncs because we load this before we set up
## personal path stuff.
. $(dirname $AUTOLOADFUNCS_FILE)/controlfuncs_build $AUTOLOADFUNCS_FILE

##
## The guts are elsewhere
##
gutsfile=$(dirname $AUTOLOADFUNCS_FILE)/autoload

. $gutsfile

for autoloadfuncsfunc in $(grep -E '^[a-z1-9_]+\(\)' $gutsfile | sed 's/()//')
do
    safe_func_export $autoloadfuncsfunc
done
