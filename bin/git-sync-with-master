#!/usr/bin/env bash

# <Function Class: git>
# <Function Justification: none>

git-sync-with-master ()
{
    func-echo -i git-sync-with-master
    local cea="$CMD_ECHO_AS"

    local status

    declare -A gitfuncs_remotes
    git-parse-remote-v
    ## clone-and-fork repos need to sync with the master in the canonical
    ## upstream branch.  If there is no 'upstream', then it's probably a clone
    ## only, so sync against the master in origin.
    if [ -n "${gitfuncs_remotes[upstream]}" ]
    then
        CMD_ECHO_AS=$cea git-sync-with-remote --remote upstream --branch master "$@"
    elif [ -n "${gitfuncs_remotes[origin]}" ]
    then
        CMD_ECHO_AS=$cea git-sync-with-remote --remote origin --branch master "$@"
    fi
    status=$?

    return $status
}
