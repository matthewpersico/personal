#!/usr/bin/env bash

# git-sync-with-master

declare -A gitfuncs_remotes
git-parse-remote-v
## clone-and-fork repos need to sync with the master in the canonical
## upstream branch.  If there is no 'upstream', then it's probably a clone
## only, so sync against the master in origin.
if [ -n "${gitfuncs_remotes[upstream]}" ]
then
    git-sync-with-remote --remote upstream --branch master "$@"
elif [ -n "${gitfuncs_remotes[origin]}" ]
then
    git-sync-with-remote --remote origin --branch master "$@"
fi
exit $?

## You can add sections with =head1, but stick to =item for section breakdowns,
## not =head2/3/etc/.

:<<'__PODUSAGE__'
=head1 NAME

git-sync-with-master - Synchonize current repo/branch with source repo/master

=head1 SYNOPSIS

 git-sync-with-master

=head1 DESCRIPTION

Fetch from the source remote repo, branch master and apply results to this repo
to bring the two in line.

=cut

__PODUSAGE__
