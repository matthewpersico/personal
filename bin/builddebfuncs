# -*- sh -*-

# builddebfuncs

BUILDDEBFUNCS_FILE=${BASH_SOURCE[0]}

auditfuncs_init $BUILDDEBFUNCS_FILE

builddebfuncs-edit ()
{
    builddebfuncs_audit "$@"
    xo $BUILDDEBFUNCS_FILE
}

builddebfuncs-reload ()
{
    builddebfuncs_audit "$@"
    . $BUILDDEBFUNCS_FILE
}
alias builddebfuncs-load=builddebfuncs-reload

builddebfuncs-help () {
    help_strings $BUILDDEBFUNCS_FILE "$@"
}

declare -a gitfuncs_dprp
gitfuncs_dprp=(BRMLNYDDPRAD01 BRMLNYDDPRAD02 BRMLNJDDPRAD02  BRMLNJDDPRAD01)

##
## Goodies
##
builddeb-master-get ()
{
    ##@@ none||none||builddeb-master-get||return the current DPRP cluster master
    ssh ${gitfuncs_dprp[0]} cat /home/dpkgrepo/etc/dpkg-buildd.master
}

builddeb-master-go ()
{
    ##@@ none||none||builddeb-master-get||connect to the current DPRP cluster master
    ssh $(builddeb-master-get)
}
