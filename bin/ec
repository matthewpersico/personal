#!/usr/bin/env bash

## ec - emacs-clean - clean up emacs backup files

finddepth='-maxdepth 1'
verbose=''
rmi=''
## Simple getopts ok here. Don't need getoptp power.
while getopts ":rvi": opt
do
    case $opt in
	i ) rmi='-i'
	    ;;
	v ) verbose='-v'
	    ;;
        r ) finddepth=''
	    ;;
        \? ) echo -r, -i and -v
	     exit 1
	     ;;
    esac
done

found=$(find . $finddepth -name '*~' -o -name '#*')
if [ -n "$found" ]
then
    /bin/rm $verbose $rmi $found
elif [ -n "$verbose" ]
then
    echo "No files found to ec"
fi
