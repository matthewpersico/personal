# -*- sh -*-

# xtermfuncs

XTERMFUNCS_FILE=${BASH_SOURCE[0]}

. ~/personal/bin/auditfuncs ## In case we're called on an NFS machine before
                            ## .profile sets this up

auditfuncs_init $XTERMFUNCS_FILE

xtermfuncs-edit ()
{
    xtermfuncs_audit "$@"
    local editor; editor=$(editor_opt xo "$@"); shift $?
    $editor $XTERMFUNCS_FILE
}

xtermfuncs-reload ()
{
    xtermfuncs_audit "$@"
    . $XTERMFUNCS_FILE
}
alias xtermfuncs-load=xtermfuncs-reload

## Because the xterminit file is a sub-file of the environment, we put all the
## convenience functions here instead of inside it.
XTERMINIT_FILE=$(dirname $XTERMFUNCS_FILE)/../dotfiles/xterminit

auditfuncs_init $XTERMINIT_FILE

xterminit-edit ()
{
    xterminit_audit "$@"
    local editor; editor=$(editor_opt xo "$@"); shift $?
    $editor $XTERMINIT_FILE
}

xterminit-reload ()
{
    xterminit_audit "$@"
    . $XTERMINIT_FILE
}
alias xterminit-load=xterminit-reload

. $XTERMINIT_FILE
