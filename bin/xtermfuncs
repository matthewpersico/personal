# -*- sh -*-

# xtermfuncs

is_func_defined auditfuncs-reload || \
    . ~/personal/bin/auditfuncs ## In case we're called on an NFS machine
                                ## before .profile sets this up, but not if
                                ## already called.
auditfuncs-init
. $(which controlfuncs_build) $XTERMFUNCS_FILE

## Because the xterminit file is a sub-file of the environment, we put all the
## convenience functions here instead of inside it.
XTERMINIT_FILE=$(dirname $XTERMFUNCS_FILE)/../dotfiles/xterminit
auditfuncs-init $XTERMINIT_FILE
. $(which controlfuncs_build) $XTERMINIT_FILE
. $XTERMINIT_FILE
safe_func_export --file $XTERMINIT_FILE
## For the functions we generate and cannot be parsed out of xterminit
for i in $(declare -F | grep 'declare -f newx' | sed 's/declare -f//')
do
    safe_func_export $i
done
auditfuncs-end $XTERMINIT_FILE

auditfuncs-end
