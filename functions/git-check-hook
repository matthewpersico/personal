# -*- sh -*-

# <Function Class: git>
# <Function Justification: none>

git-check-hook ()
{
    echo "${FUNCNAME[0]} \"$@\" ## $(date +%Y%m%d%H%M%S)" >> ${HOME}/personal/data/funcsaudit ## This is audit
    ##@@ 0001||group||git-check-hook||

    local hook_dir=$(git-hook-find-hook-dir)
    if [ -z "$hook_dir" ] || [ ! -d "$hook_dir" ]
    then
        echo "Cannot find hook directory"
        return $NOT_OK
    fi
    local ret=0
    local i
    for i in $(ls ${hook_dir}/* | grep -v '.sample' | grep -v $GITFUNCS_CHANGELOG_NAME)
    do
        if [ ! -x $i ]
        then
            echo "INFO: git hook $i is not executable. Making it so."
            chmod a+x $i
        fi
    done
    return $OK
}
