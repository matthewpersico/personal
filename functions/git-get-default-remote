#!/usr/bin/env bash

# <Function Class: git>
# <Function Justification:  Efficiency - in PS1>

git-get-default-remote ()
{
    local pre=$1;shift
    local post=$1;shift
    if git rev-parse --show-toplevel 2>/dev/null 1>&2 ## we are in a repo
    then
        local push_def
        push_def=$(git config --global push.default 2>/dev/null)
        if [ "$push_def" = 'simple' ]
        then
            local out
            out=$(git config --get remote."$(git config --get branch."$(git branch get-current)".remote 2>/dev/null)".url 2>/dev/null)
            echo "${pre}${out}${post}"
        fi
    fi
}
