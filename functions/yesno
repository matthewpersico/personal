# -*- sh -*-

# <Function Class: util>
# <Function Justification: maybe - frequency>

yesno ()
{
    ##@@ none||none||yesno||Args: Prompt, y/n default, command and args to run if 'y', returns command status. If no command, prints response, returns 0.
    declare prompt_text=$1;shift
    declare choices="y/n"
    declare default=$1;shift
    declare cmd
    cmd="$@"

    declare respyn
    respyn=$(pick "$prompt_text" "$choices" "$default")

	if [ "$respyn" = 'y' ] || [ "$respyn" = 'n' ]
	then
        if [ -z "$cmd" ]
        then
            ## No command, give response
	        echo $respyn
	        return $(true)
        elif [ "$respyn" = 'y' ]
        then
            $cmd
            return $?
        else
            return $(true)
        fi
	fi
}
